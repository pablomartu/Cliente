<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Arrays en JavaScript</title>
</head>

<body>
	<script>
		//ARRAY: almacena en una misma variable múltiples valores: valores primitivos, objetos, etc. Se referencian con un índice numérico.
		//¡Ojo! Un objeto se referencia con un nombre

		//OPERACIONES BÁSICAS CON UN ARRAY:

		//Crear un array: let nombreArray = [<valores separados por comas>];
		let animales = ["Perro", "Gato", "Hamster", "Conejo", "Hurón"];
		//let nombreArray = new Array(<valores separados por comas>); --no recomendado
		let animales2 = new Array("Perro", "Gato", "Hamster", "Conejo", "Hurón");

		//Acceso a elementos de un array: nombreArray[<índice>]; Desde el 0
		let miAnimal = animales[0];

		//Mostrar todo el array
		document.write(animales);

		//PROPIEDADES:
		//length: devuelve la longitud del array (número de elementos)
		document.write("<br>La longitud del array es: " + animales.length);

		//Mostrar los valores del array uno a uno: bucle for
		document.write("<br>Todos los elementos con bucle for:")
		for (let i = 0; i < animales.length; i++) {
			document.write("<br>" + animales[i]);
		}

		//MÉTODOS PARA MOSTRAR EL ARRAY:
		//Mostrar los valores del array uno a uno: método foreach
		document.write("<br>Todos los elementos con método foreach:")
		animales.forEach(function (valor, indice) {
			document.write("<br>Posición: " + indice + " - Contenido: " + valor);
		});
		//Mostrar los valores del array uno a uno: método foreach y funciones flecha
		document.write("<br>Todos los elementos con método foreach y funciones flecha:")
		animales.forEach((valor, indice) => document.write("<br>Posición: " + indice + " - Contenido: " + valor));

		//MÉTODOS PARA SABER SI ES UN ARRAY:
		//Array.isArray(<nombreArray>): devuelve true si es un objeto de tipo Array. Si pusamos typeof <nombreArray> devolverá object.
		document.write("<br>¿Es un array? " + Array.isArray(animales));
		//<nombreArray> instanceof Array: devuelve true si es un Array.
		document.write("<br>¿Seguro? " + (animales instanceof Array));

		//MÉTODOS PARA MOSTRAR EL ARRAY EN FORMATO DE CADENA:
		//toString(): convierte el array a cadena
		document.write("<br>El array en tipo String es: " + animales.toString());
		//join("<separador>"): convierte el array a cadena separado por el separador:
		document.write("<br>El array con join es: " + animales.join(" * "));

		//MÉTODOS PARA MODIFICAR UN ARRAY:
		//pop() y shift(): extrae el último y primer elemento respectivamente y lo guarda en una variable (si queremos)
		let primero = animales.shift();
		let ultimo = animales.pop();
		document.write("<br><br>Después de sacar " + primero + " y " + ultimo + ": " + animales);
		//push(<elemento>) y unshift(<elemento>): añade un elemento al final y al principio del array respectivamente
		animales.unshift("Periquito");
		animales.push("Jilguero");
		document.write("<br>Después de meter Periquito al principio y Jilguero al final: " + animales);

		//splice(<posicion insertar/borrar>, <elementos a borrar>, [<elementos a añadir separados por comas>]):
		animales.splice(2, 1, "Vaca", "Toro");
		document.write("<br>Después de meter 2 (vaca, toro) y borrar 1 (en la posición 2): " + animales);
		animales.splice(0, 1);
		document.write("<br>Después de eliminar el primer elemento: " + animales);
		animales.splice(0, 0, "Toro");
		document.write("<br>Después de añadir como primer elemento: " + animales);

		//fill("<elemento>"): sustituye los elementos del array por el indicado
		//animales.fill("Gato");
		//document.write("<br>Después de sustituir todos elementos con Gato: " + animales);
		//copyWithin(): copia elementos del array y los sustituye por otros elementos del array.
		//animales.copyWithin(2, 0);
		//document.write("<br>Después de copiar el array desde la posición 2: " + animales);

		//MÉTODOS PARA ORDENAR E INVERTIR EL ORDEN:
		//reverse(): invierte el orden de un array
		animales.reverse();
		document.write("<br>El array después de invertir es: " + animales);
		//sort(): ordena el array alfabéticamente, aunque esté compuesto de números
		animales.sort();
		document.write("<br>El array después de ordenar es: " + animales);

		//MÉTODOS PARA BUSCAR:
		//indexOf(<elemento>[,<pos>]) y lastIndexOf(<elemento>[,<pos>]): devuelve la primera o última posición de un elemento respectivamente; podemos pasarle a partir de qué elemento buscará.
		document.write("<br>La primera posición de Toro es: " + animales.indexOf("Toro"));
		document.write("<br>La última posición de Toro es: " + animales.lastIndexOf("Toro"));
		//ES6: find() y findIndex()
		document.write("<br>Buscamos un elemento que cumpla con una función de prueba. Elemento: " + animales.find(valor =>
			valor === "Gato"));
		document.write("<br>Buscamos un elemento que cumpla con una función de prueba. Índice: " + animales.findIndex(
			valor => valor === "Gato"));
		//ES6+: includes()
		document.write("<br>Buscamos el elemento Gato (true / false): " + animales.includes("Gato"));

		//MÉTODOS PARA OBTENER UN ARRAY A PARTIR DE OTRO/S:
		//slice(<ini>[,<fin>]): devuelve un subarray desde la posición indicada hasta (sin incluir) la final (no es obligatorio)
		let subarray = animales.slice(1, 3);
		document.write("<br><br>El subarray entre 1-3 es: " + subarray);
		//concat(<lista de arrays separados por comas>): une el array inicial con un segundo array
		let masAnimales = ["Burro", "Mula"];
		animales.concat(masAnimales);
		document.write("<br>El array completo es: " + animales);
		//map(<función>): crea un nuevo array resultado de ejecutar una función
		let lista = [45, 4, 9, 16, 25];
		let lista2 = lista.map(function (valor) {
			return valor * 2;
		});
		document.write("<br>El nuevo array creado a partir de: " + lista + ", con map() es lista2: " + lista2);
		//filter(<función>): crea un nuevo array con los elementos que pasen una función prueba
		let may18 = lista.filter(function (valor) {
			return valor > 18;
		});
		document.write("<br>El nuevo array creado a partir de: " + lista + ", con filter() es may18: " + may18);

		//MÉTODOS PARA OPERAR CON TODOS LOS VALORES DEL ARRAY:
		//reduce(<función>): reduce el array a un solo valor
		let suma = lista.reduce(function (total, valor) {
			return total + valor;
		});
		document.write("<br>La suma de todos los elementos de: " + lista + ", con reduce() es suma: " + suma);
		//reduceRight(<función>): igual a reduce() pero comienza por la derecha del array
		//every(<función>): true si todos valores del array pasan la función prueba
		let todosMay18 = lista.every(function (valor) {
			return valor > 18;
		});
		document.write("<br>¿Todos los elementos de " + lista + " son mayores de 18?: " + todosMay18);
		//some(<función>): true si algún valor del array pasan la función prueba
		let algunosMay18 = lista.some(function (valor) {
			return valor > 18;
		});
		document.write("<br>¿Algún elemento de " + lista + " son mayores de 18?: " + algunosMay18);
	</script>

</body>

</html>